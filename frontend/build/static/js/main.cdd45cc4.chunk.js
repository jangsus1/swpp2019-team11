(window["webpackJsonpswpp-project"]=window["webpackJsonpswpp-project"]||[]).push([[0],{316:function(e,t){e.exports="data:image/png;base64,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"},336:function(e,t,n){e.exports=n(577)},358:function(e,t){},511:function(e,t,n){},567:function(e,t,n){},568:function(e,t,n){},569:function(e,t,n){},570:function(e,t,n){},571:function(e,t,n){},572:function(e,t,n){},574:function(e,t,n){},575:function(e,t,n){},576:function(e,t,n){},577:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(31),i=n(26),s=n(32),c=n.n(s),l=n(44),u=(n(345),n(192),n(215),n(25)),p=n.n(u),m=n(88),d=n(298),h=n(39);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y={survey_list:[],ongoing_survey_list:[]},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DEFAULT";switch(t.type){case"GET_SURVEY_LIST":return f({},e,{survey_list:t.target});case"GET_MY_ONGOING_SURVEYS":case"GET_PARTICIPATING_LIST":return f({},e,{ongoing_survey_list:t.target})}return f({},e)};function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(n,!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O={survey:{item:[]},ongoing_survey:[],completed_survey:[]},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DEFAULT";switch(t.type){case"EDIT_SURVEY":case"DELETE_SURVEY":case"GET_ONGOING_SURVEY":return b({},e,{ongoing_survey:t.target});case"ADD_ONGOING_SURVEY":case"PARTICIPATE_SURVEY":return b({},e);case"GET_COMPLETED_SURVEY":return b({},e,{completed_survey:t.target})}return b({},e)};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C={username:"",email:"",info:{username:"",point:""}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DEFAULT";switch(t.type){case"GET_USER":return S({},e,{username:t.target.username,email:t.target.email});case"ADD_POINT":return S({},e);case"GET_USER_INFO":return S({},e,{info:t.target})}return S({},e)};function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(n,!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D={survey_list:[]},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DEFAULT";switch(t.type){case"GET_CART":return x({},e,{survey_list:t.target});case"DELETE_CART":return x({},e,{survey_list:e.survey_list.filter((function(e){return-1===t.target.indexOf(e.id)}))});case"ADD_CART":return x({},e)}return x({},e)},P=Object(m.c)({us:w,sv:_,svl:v,ct:A}),I=Object(m.e)(P,Object(m.d)(Object(m.a)((function(){return function(e){return function(t){return e(t)}}}),d.a))),N=n(75),T=n(20),R=n(21),H=n(23),z=n(22),B=n(24),M=n(608),G=n(607),U=n(601),Y=n(609),L=n(579),q=n(604),F=function(){return function(e){return p.a.get("/api/checklogin/").then((function(){e({type:"CHECK_LOGIN"})}))}},W=function(){return function(e){return p.a.get("/api/userinfo/").then((function(t){return e({type:"GET_USER_INFO",target:t.data}),t}))}},V=function(e){return function(t){return p.a.get("/api/survey/completed/".concat(e,"/")).then((function(e){return t({type:"GET_COMPLETED_SURVEY",target:e.data}),e}))}},Q=function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(z.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},n.loginHandler=function(){n.props.logIn(n.state.username,n.state.password).then((function(){n.props.history.push("/main")})).catch((function(){}))},n}return Object(B.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(M.a,{className:"login",textAlign:"center",columns:2,divided:!0},r.a.createElement(M.a.Row,{style:{height:"100vh"},verticalAlign:"middle"},r.a.createElement(M.a.Column,{style:{maxWidth:450,minWidth:300}},r.a.createElement(G.a,{style:{fontSize:"4em"},as:"h1",color:"teal",textAlign:"center"},"surBing"),r.a.createElement(U.a,{size:"large"},r.a.createElement(Y.a,{stacked:!0},r.a.createElement(U.a.Input,{className:"UserName",onChange:function(t){return e.setState({username:t.target.value})},value:this.state.username,fluid:!0,icon:"user",iconPosition:"left",placeholder:"Username"}),r.a.createElement(U.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}}),r.a.createElement(L.a,{id:"loginbutton",disabled:!this.state.username||!this.state.password,onClick:function(){return e.loginHandler()},color:"teal",fluid:!0,size:"large"},"Login"))),r.a.createElement(q.a,null,"New to us?"," ",r.a.createElement(o.b,{to:"/signup",exact:!0},"Sign Up")))))}}]),t}(a.Component),K=Object(i.b)(null,(function(e){return{logIn:function(t,n){return e(function(e,t){var n={username:e,password:t};return function(e){return p.a.post("/api/login/",n).then((function(t){return e({type:"LOGIN"}),t}))}}(t,n))}}}))(Object(N.g)(Q)),Z=function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(z.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",username:"",password:"",password_confirmation:"",age:"",gender:"",email_error:!1,username_error:!1,password_error:!1,password_confirmation_error:!1,age_error:!1,gender_error:!1},n.options=[{key:"m",text:"Male",value:"M"},{key:"f",text:"Female",value:"F"},{key:"o",text:"Other",value:"O"}],n.validate=function(){n.setState({email_error:""==n.state.email,username_error:""==n.state.username,password_error:""==n.state.password,password_confirmation_error:n.state.password!=n.state.password_confirmation,age_error:!(""!=n.state.age&&Number.isInteger(+n.state.age)),gender_error:""==n.state.gender})},n.signupHandler=function(){n.validate(),n.state.age_error||n.state.email_error||n.state.gender_error||n.state.password_error||n.state.password_confirmation_error||n.props.signUp(n.state.username,n.state.email,n.state.password,n.state.age,n.state.gender).then((function(){n.props.history.push("/login")}))},n}return Object(B.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(M.a,{textAlign:"center",columns:3,divided:!0},r.a.createElement(M.a.Row,{style:{height:"100vh"},verticalAlign:"middle"},r.a.createElement(M.a.Column,{style:{maxWidth:450,minWidth:300},width:"8"},r.a.createElement(G.a,{as:"h1",color:"teal",textAlign:"center"},"Sign-up"),r.a.createElement(U.a,{size:"large"},r.a.createElement(Y.a,{stacked:!0},r.a.createElement(U.a.Input,{className:"Email",fluid:!0,icon:"mail outline",iconPosition:"left",placeholder:"E-mail address",value:this.state.email,onChange:function(t){e.state.email=t.target.value,e.validate()},error:this.state.email_error}),r.a.createElement(U.a.Input,{className:"UserName",fluid:!0,icon:"user",iconPosition:"left",placeholder:"Username",value:this.state.username,onChange:function(t){e.state.username=t.target.value,e.validate()},error:this.state.username_error}),r.a.createElement(U.a.Input,{className:"Password",fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",error:this.state.password_error,value:this.state.password,onChange:function(t){e.state.password=t.target.value,e.validate()}}),r.a.createElement(U.a.Input,{className:"PasswordComfirmation",fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password confirmation",type:"password",error:this.state.password_confirmation_error,value:this.state.password_confirmation,onChange:function(t){e.state.password_confirmation=t.target.value,e.validate()}}),r.a.createElement(U.a.Group,{widths:"equal"},r.a.createElement(U.a.Input,{className:"ageInput",onChange:function(t){e.state.age=t.target.value,e.validate()},fluid:!0,placeholder:"Age",error:this.state.age_error}),r.a.createElement(U.a.Select,{className:"genderInput",options:this.options,onChange:function(t,n){var a=n.value;e.state.gender=a,e.validate()},placeholder:"Gender",error:this.state.gender_error})),r.a.createElement(L.a,{id:"signupButton",color:"teal",fluid:!0,size:"large",onClick:function(){return e.signupHandler()}},"Signup"))),r.a.createElement(q.a,null,"Already signed up?"," ",r.a.createElement(o.b,{to:"/login",exact:!0},"Log In")))))}}]),t}(a.Component),X=Object(i.b)(null,(function(e){return{signUp:function(t,n,a,r,o){return e(function(e,t,n,a,r){var o={username:e,email:t,password:n,age:a,gender:r};return function(e){return p.a.post("/api/signup/",o).then((function(t){return e({type:"SIGNUP"}),t}))}}(t,n,a,r,o))}}}))(Z),J=n(596);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(n,!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te=function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(z.a)(t)).call.apply(e,[this].concat(r)))).state={value:""},n.clickListener=function(){""!=n.state.value&&(n.props.onSearch(n.state.value),n.setState(ee({},n.state,{value:""})),n.props.history.push("/search"))},n.enterListener=function(e){13===(e.keyCode||e.which)&&n.clickListener()},n}return Object(B.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(J.a,{className:"SearchBar",style:{width:this.props.width,minWidth:this.props.minWidth},size:this.props.size,fluid:!0,value:this.state.value,onChange:function(t){return e.setState(ee({},e.state,{value:t.target.value}))},onKeyPress:function(t){e.enterListener(t)},action:{className:"searchButton",icon:"search",size:this.props.size,color:"teal",onClick:function(){return e.clickListener()}},placeholder:"Search..."})}}]),t}(a.Component),ne=Object(i.b)(null,(function(e){return{onSearch:function(t){e(function(e){return function(t){return p.a.get("/api/search/".concat(e,"/")).then((function(e){t({type:"GET_SURVEY_LIST",target:e.data})}))}}(t))}}}))(Object(N.g)(te)),ae=n(602),re=n(90),oe=(n(511),function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(z.a)(t)).call.apply(e,[this].concat(r)))).logoutHandler=function(){n.props.logOut().then((function(){n.props.history.push("/login")}))},n}return Object(B.a)(t,e),Object(R.a)(t,[{key:"componentDidUpdate",value:function(e){e!=this.props&&this.forceUpdate()}},{key:"render",value:function(){var e=this;return null!=this.props.username?r.a.createElement(ae.a,{className:"DropDownClass",as:L.a,text:"Profile",color:"teal",size:"large",style:this.props.style,direction:"left"},r.a.createElement(ae.a.Menu,{className:"Menu",as:Y.a},r.a.createElement(ae.a.Item,{id:"upperItem"},r.a.createElement(re.a,{centered:!0,name:"user circle",className:"UserIcon",size:"huge"}),r.a.createElement("div",{id:"username"},this.props.username),r.a.createElement("div",{id:"userpoint"},r.a.createElement("div",{id:"blank"}," "),"My Point:",null==this.props.point&&0,null!=this.props.point&&this.props.point)),r.a.createElement(ae.a.Item,{className:"logOut",onClick:function(){return e.logoutHandler()},basic:!0,as:L.a,floating:!0},r.a.createElement(re.a,{name:"key"}),"Log Out"))):null}}]),t}(a.Component)),ie=Object(i.b)(null,(function(e){return{logOut:function(){return e((function(e){return p.a.get("/api/logout/").then((function(){e({type:"LOGOUT"})}))}))},getUserInfo:function(){return e(W())}}}))(Object(N.g)(oe)),se=function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(z.a)(t)).call.apply(e,[this].concat(r)))).addSurveyHandler=function(){n.props.history.push("/making")},n.participateHandler=function(){n.props.history.push("/participate")},n}return Object(B.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.checklogIn().then(this.props.getUserInfo()).catch((function(){e.props.history.push("/login/")}))}},{key:"render",value:function(){var e=this;return r.a.createElement(M.a,{className:"MainPage",textAlign:"center"},r.a.createElement(M.a.Row,{textAlign:"right",colums:1},r.a.createElement(M.a.Column,null,r.a.createElement(ie,{style:{margin:"25px"},username:this.props.username,point:this.props.point}))),r.a.createElement(M.a.Row,{columns:2,style:{height:"60.3vh"},verticalAlign:"middle"},r.a.createElement(M.a.Column,null,r.a.createElement(G.a,{style:{"font-size":"4em",cursor:"pointer"},size:"huge",color:"teal",textAlign:"center"},"surBing"),r.a.createElement(ne,{size:"huge"}),r.a.createElement("br",null),r.a.createElement(L.a,{className:"AddSurveyButton",size:"big",color:"teal",onClick:function(){return e.addSurveyHandler()}},"Add New Survey"),r.a.createElement(L.a,{className:"ParticipateButton",size:"big",color:"teal",onClick:function(){return e.participateHandler()}},"Participate On Surveys"))))}}]),t}(a.Component),ce=Object(i.b)((function(e){return{username:e.us.info.username,point:e.us.info.point}}),(function(e){return{checklogIn:function(){return e(F())},getUserInfo:function(){return e(W())}}}))(Object(N.g)(se)),le=n(12),ue=n.n(le),pe=n(598),me=n(606),de=function(e){return r.a.createElement(pe.a,{className:"TopBar",style:{backgroundColor:"#ffffff","x-index":1},context:e.context},r.a.createElement(Y.a,{style:{height:"100px",marginBottom:"-15px"}},r.a.createElement(M.a,{colums:3,style:{"min-width":"800px"}},r.a.createElement(M.a.Row,{verticalAlign:"middle",style:{marginBottom:"0px"}},r.a.createElement(M.a.Column,{textAlign:"center",style:{minWidth:200,marginRight:"50px"}},r.a.createElement(G.a,{className:"logo",style:{"font-size":"4em",cursor:"pointer"},onClick:function(){e.history.push("/main")},size:"huge",color:"teal",textAlign:"center"},"surBing")),r.a.createElement(M.a.Column,{style:{minWidth:300}},e.searchBar?r.a.createElement(ne,{size:"huge",minWidth:"300px",width:"calc(100vw - 500px)"}):null),r.a.createElement(M.a.Column,{style:{minWidth:"180px"},floated:"right"},r.a.createElement(ie,{username:e.username,point:e.point}))))),r.a.createElement(me.a,{size:"big",className:"UtilBar",style:{borderRadius:"0px",marginBottom:"-15px"}},r.a.createElement(me.a.Item,{className:"Participate",onClick:function(){return e.history.push("/participate")}},"Participate Survey"),r.a.createElement(me.a.Item,{className:"Making",onClick:function(){return e.history.push("/making")}},"Make Survey"),r.a.createElement(me.a.Item,{className:"Mypage",onClick:function(){return e.history.push("/mypage")}},"MyPage")))},he=Object(N.g)(de),ge=Object(N.g)((function(e){return r.a.createElement(M.a,{className:"SurveyBlock",padded:!0},r.a.createElement(M.a.Row,{style:{minWidth:"1000px"},verticalAlign:"middle"},r.a.createElement(Y.a,{className:"clickSegment",style:e.search?{cursor:"pointer",height:"100px",maxWidth:"800px","border-top-left-radius":"20px","border-bottom-left-radius":"20px"}:{cursor:"pointer",height:"100px",maxWidth:"800px","border-top-left-radius":"20px","border-bottom-left-radius":"20px","border-bottom-right-radius":"20px","border-top-right-radius":"20px"},attached:"left",onClick:function(){e.history.push("/survey/".concat(e.survey.id))}},r.a.createElement(M.a,{divided:!0},r.a.createElement(M.a.Column,{width:11},r.a.createElement(G.a,{size:"big"},e.survey.title),r.a.createElement(G.a,{size:"small"},r.a.createElement(re.a,{name:"user"}),e.survey.author)),r.a.createElement(M.a.Column,{width:5,verticalAlign:"top"},r.a.createElement(M.a.Row,null,r.a.createElement(re.a,{name:"users"}),e.survey.respondant_count),r.a.createElement(M.a.Row,null,r.a.createElement(re.a,{name:"calendar outline"}),e.survey.upload_date),r.a.createElement(M.a.Row,null,r.a.createElement(re.a,{name:"calendar check outline"}),e.survey.survey_start_date,"~",e.survey.survey_end_date)))),e.search?r.a.createElement(L.a,{className:"cartButton",color:"teal",verticalAlign:"middle",floated:"right",size:"huge",attached:"right",style:{width:"50px",height:"99px",verticalAlign:"middle","border-top-right-radius":"20px","border-bottom-right-radius":"20px","padding-top":"35px"},onClick:function(){e.onClickCart(e.survey.id,e.survey.title)}},r.a.createElement(re.a,{name:"cart arrow down"})):null))})),fe=n(323),ye=n(118),ve=n(600),Ee=n(316),be=n.n(Ee);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var _e=function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(z.a)(t)).call.apply(e,[this].concat(r)))).state={startDate:null,endDate:null,focusedInput:null,respondant:[1,1e3]},n.handleSlider=function(e,t){n.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(n,!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.state,{respondant:t}))},n.formatFunction=function(e){return"1000"==e?"1000+":e},n.falseReturn=function(){return!1},n.onDatesChange=function(e){var t=e.startDate,a=e.endDate;n.setState({startDate:t,endDate:a})},n.onFocusChange=function(e){n.setState({focusedInput:e})},n.onClickHandler=function(){n.props.filterHandler(n.state.startDate,n.state.endDate,n.state.respondant)},n}return Object(B.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"topTag",stretched:!0,style:{textAlign:"center",height:"700px",borderStyle:"none",padding:"5px"}},r.a.createElement(G.a,{color:"teal",size:"huge",textAlign:"center"},"Filter"),r.a.createElement(Y.a,{virticalAlign:"middle",style:{height:120}},r.a.createElement(G.a,{color:"teal",textAlign:"center"},"Respondents"),r.a.createElement(M.a,null,r.a.createElement(M.a.Row,{verticalAlign:"middle"},r.a.createElement(M.a.Column,{width:"3"},r.a.createElement(fe.a,{size:"little",style:{height:50},color:"teal",src:be.a})),r.a.createElement(M.a.Column,null,r.a.createElement(ve.a,{max:1e3,min:1,style:{width:270,color:"#008080"},value:this.state.respondant,onChange:this.handleSlider,valueLabelDisplay:"auto","aria-labelledby":"range-slider",valueLabelFormat:this.formatFunction}))))),r.a.createElement(Y.a,null,r.a.createElement(G.a,{color:"teal",textAlign:"center"},"Date"),r.a.createElement(ye.DateRangePicker,{isOutsideRange:this.falseReturn,showDefaultInputIcon:!0,startDateId:"startDate",endDateId:"endDate",startDate:this.state.startDate,endDate:this.state.endDate,onDatesChange:this.onDatesChange,focusedInput:this.state.focusedInput,onFocusChange:this.onFocusChange})),r.a.createElement(L.a,{id:"applyButton",textAlign:"center",color:"teal",onClick:this.onClickHandler},"Apply"))}}]),t}(a.Component);function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(n,!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ce=function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(H.a)(this,(e=Object(z.a)(t)).call.apply(e,[this].concat(o)))).state={survey_component_list:[],startDate:null,endDate:null,respondant_min:1,respondant_max:1e3,cartPopup:!1,cartPopupStatus:0,cartPopupName:""},n.filterHandler=function(e,t,a){n.setState(Se({},n.state,{startDate:e?e.hour(0):e,endDate:t?t.hour(0):t,respondant_min:a[0],respondant_max:a[1]}))},n.onClickCart=function(e,t){n.props.onAddCart(e).then((function(e){n.setState(Se({},n.state,{cartPopup:!0,cartPopupStatus:e.status,cartPopupName:t}))}))},n.onClickPopupOff=function(){n.setState(Se({},n.state,{cartPopup:!1}))},n.getCartPopup=function(){return r.a.createElement(Y.a,{className:"cartPopup",style:{width:"850px"}},r.a.createElement(M.a,null,r.a.createElement(M.a.Column,{width:15},"survey",' "'.concat(n.state.cartPopupName,'" '),201===n.state.cartPopupStatus?"has added to my cart.":"is already in my cart."),r.a.createElement(M.a.Column,{width:1,textAlign:"right"},r.a.createElement(re.a,{name:"x",onClick:n.onClickPopupOff}))))},n}return Object(B.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.checklogIn().then((function(){e.setState({survey_component_list:e.props.survey_list.map((function(t){return r.a.createElement(ge,{search:!0,survey:t,onClickCart:e.onClickCart})}))})})).catch((function(){e.props.history.push("/login/")}))}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.props.survey_list==e.survey_list&&this.state.startDate==t.startDate&&this.state.endDate==t.endDate&&this.state.respondant_min==t.respondant_min&&this.state.respondant_max==t.respondant_max||this.setState({survey_component_list:this.props.survey_list.filter((function(e){return(null==n.state.startDate||!ue()(n.state.startDate).isAfter(ue()(e.survey_end_date)))&&(null==n.state.endDate||!ue()(n.state.endDate).isBefore(ue()(e.survey_start_date)))&&(1e3==n.state.respondant_max||n.state.respondant_max>=e.respondant_count)&&n.state.respondant_min<=e.respondant_count})).map((function(e){return r.a.createElement(ge,{className:"surveyBlock",search:!0,survey:e,onClickCart:n.onClickCart})}))})}},{key:"render",value:function(){return r.a.createElement("div",{className:"searchResultPage",style:{minWidth:"800px"}},r.a.createElement(he,{searchBar:!0,history:this.props.history}),r.a.createElement(M.a,{columns:2,divided:!0,padded:!0},r.a.createElement(M.a.Row,null,r.a.createElement(M.a.Column,{centered:!0,style:{minWidth:"430px",maxWidth:"430px"}}," ",r.a.createElement(_e,{filterHandler:this.filterHandler})," "),r.a.createElement(M.a.Column,{width:8},this.state.cartPopup?this.getCartPopup():null,this.state.survey_component_list))))}}]),t}(a.Component),we=Object(i.b)((function(e){return{survey_list:e.svl.survey_list}}),(function(e){return{checklogIn:function(){return e(F())},onSurveyDetail:function(t){return e(V(t))},onAddCart:function(t){return e(function(e){return function(t){var n={id:e};return p.a.post("/api/mypage/cart/",n).then((function(e){return t({type:"ADD_CART"}),e}))}}(t))}}}))(Object(N.g)(Ce)),ke=n(603),xe=n(119),De=n(317),Ae=n(318),Pe=n.n(Ae);var Ie=function(e){return r.a.createElement("div",{className:"ItemResponse"},r.a.createElement(ke.a.Row,{style:{width:"790px",marginLeft:20,"font-size":"1em"}},r.a.createElement(ke.a.Cell,null,e.respondant_id),r.a.createElement(ke.a.Cell,null,e.content)))},Ne=function(e){return r.a.createElement("div",{className:"ItemSelection"},r.a.createElement(ke.a.Row,{style:{marginLeft:20,"font-size":"1em"}},r.a.createElement(ke.a.Cell,null,e.number),r.a.createElement(ke.a.Cell,null,e.content)))},Te=function(e){return r.a.createElement("div",null)};var Re=function(e){var t=e.response.map((function(e){return r.a.createElement(Ie,{respondant_id:e.respondant_number,content:e.content})})),n=e.selection.map((function(e){return r.a.createElement(Ne,{number:e.number,content:e.content})}));return r.a.createElement(M.a,{className:"SurveyItem"},r.a.createElement(ke.a,{celled:!0,color:"teal",size:"huge",style:{margin:30,"font-size":"1em"}},r.a.createElement(ke.a.Header,null,r.a.createElement(ke.a.Row,null,r.a.createElement(ke.a.HeaderCell,null,r.a.createElement(G.a,{style:{color:"#00B5AD","font-size":"2em"}},"Q",e.number,"."," ",e.title),r.a.createElement("p",{style:{textAlign:"right",color:"black","font-size":"1.4em"}},"type :"," ",e.question_type)))),r.a.createElement(ke.a.Body,{style:{width:"790px"}},r.a.createElement(Pe.a,{speed:.8,horizontal:!1,style:{maxHeight:250,border:"none"}},r.a.createElement(Y.a,{style:{padding:-20,border:"none"}},"selection"===e.question_type?n:t)))),r.a.createElement(Te,null))},He=n(319),ze=n.n(He),Be=function(e,t,n){var a={};if(n)ze.a.parse(t,{complete:function(t,n){a.item=function(e){var t=[];return e.map((function(e,n){return 0==n?e.map((function(e,n){return t[n]={},t[n].response=[],t[n].title=e,t[n].question_type=null,e})):e.map((function(e,a){return t[a].response[n-1]={},t[a].response[n-1].respondant_id=n,t[a].response[n-1].content=e,e})),e})),t}(t.data),a.title=n.name,a.author=null,a.upload_date=ue()(new Date).format("YYYY/MM/DD").toString(),a.survey_start_date=null,a.survey_end_date=null,a.content=null,a.respondant_count=a.item[0].response.length,e(a)},header:!1});else{for(var r=t.item.length,o=t.item[0].response.length+1,i=Array(o),s=0;s<o;s++)i[s]=Array(r);t.item.map((function(e,t){return i[0][t]=e.title,e.response.map((function(e){return i[e.respondant_id][t]=e.content,e})),e})),a=i.map((function(e){return e.join(",")})).join("\n"),e(a)}},Me=function(e){function t(){return Object(T.a)(this,t),Object(H.a)(this,Object(z.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.checklogIn().then((function(){e.props.onSurveyDetail(e.props.match.params.id).catch((function(){e.props.history.push("/survey/1")}))})).catch((function(){e.props.history.push("/login/")}))}},{key:"onClickDownload",value:function(){var e=this;Be((function(t){Object(De.saveAs)(new Blob([t],{type:"text/csv;charset=utf-8;"}),"".concat(e.props.survey.id,"_").concat(e.props.survey.title.replace(/ /g,"_"),".csv"))}),this.props.survey,!1)}},{key:"render",value:function(){var e=this;if(void 0===this.props.survey||void 0===this.props.survey.item)return r.a.createElement("div",null);var t=this.props.survey.item.map((function(e,t){return r.a.createElement(Re,{number:t+1,title:e.title,question_type:e.question_type,response:e.response,selection:e.selection})}));return r.a.createElement("div",{className:"surveyDetailPage"},r.a.createElement(he,{searchBar:!0}),r.a.createElement(M.a,{columns:2,style:{maxWidth:"1000px"}},r.a.createElement(M.a.Row,null,r.a.createElement(M.a.Column,{style:{width:"400px"}},r.a.createElement(ke.a,{celled:!0,style:{margin:20,height:200,width:"450px"}},r.a.createElement(ke.a.Header,{color:"teal"},r.a.createElement(ke.a.Row,null,r.a.createElement(ke.a.HeaderCell,{style:{textColor:"teal"}},r.a.createElement(xe.a,{ribbon:!0,style:{color:"#00B5AD","font-size":"2em"}}," ",this.props.survey.title," ")))),r.a.createElement(ke.a.Body,{style:{"font-size":"1.2em"}},r.a.createElement(ke.a.Row,null,r.a.createElement(ke.a.Cell,null,"Upload Date :"," ",this.props.survey.upload_date," ",r.a.createElement("br",null),"Survey date :"," ",this.props.survey.survey_start_date,"~",this.props.survey.survey_end_date," ",r.a.createElement("br",null),"Author :"," ",this.props.survey.author," ",r.a.createElement("br",null),"Number of Respondants :"," ",this.props.survey.respondant_count," ",r.a.createElement("br",null),"Description :"," ",this.props.survey.content))))),r.a.createElement(M.a.Column,{verticalAlign:"center",textAlign:"middle"},r.a.createElement(L.a,{className:"downloadButton",onClick:function(){return e.onClickDownload()}},r.a.createElement(re.a,{size:"large",name:"file outline"})," ","Download")))),t)}}]),t}(a.Component),Ge=Object(i.b)((function(e){return{survey:e.sv.completed_survey}}),(function(e){return{checklogIn:function(){return e(F())},onSurveyDetail:function(t){return e(V(t))}}}))(Me),Ue=n(605),Ye=n(578),Le=(n(567),function(e){return r.a.createElement(ke.a,{celled:!0,definition:!0,id:"Table",style:{borderRadius:0,width:1050,height:150,outline:"0.1rem solid",outlineColor:"#DEDEDF"}},r.a.createElement(ke.a.Header,{id:"Header"},r.a.createElement(ke.a.Row,{style:{"font-size":"14pt"}},e.slide&&r.a.createElement(ke.a.HeaderCell,null),r.a.createElement(ke.a.HeaderCell,{id:"headerTitle"},"Survey Title"),r.a.createElement(ke.a.HeaderCell,{id:"headerAuthor"},"Survey author"),r.a.createElement(ke.a.HeaderCell,{id:"headerResp"},"Survey respondant_count"),r.a.createElement(ke.a.HeaderCell,{id:"headerContent"},"Survey content"))),r.a.createElement(ke.a.Body,{id:"Body"},e.content.map((function(t){return r.a.createElement(ke.a.Row,null,e.slide&&r.a.createElement(ke.a.Cell,{collapsing:!0},r.a.createElement(Ye.a,{slider:!0})),r.a.createElement(ke.a.Cell,{id:"bodyTitle"},t.title),r.a.createElement(ke.a.Cell,null,t.author),r.a.createElement(ke.a.Cell,null,t.respondant_count),r.a.createElement(ke.a.Cell,null,t.content))}))," "),r.a.createElement(ke.a.Footer,null,r.a.createElement(ke.a.Row,null,r.a.createElement(ke.a.HeaderCell,{colSpan:"5"},r.a.createElement(me.a,{floated:"right",pagination:!0},r.a.createElement(me.a.Item,{as:"a",icon:!0},r.a.createElement(re.a,{name:"chevron left"})),r.a.createElement(me.a.Item,{as:"a"},"1"),r.a.createElement(me.a.Item,{as:"a"},"2"),r.a.createElement(me.a.Item,{as:"a"},"3"),r.a.createElement(me.a.Item,{as:"a",icon:!0},r.a.createElement(re.a,{name:"chevron right"})))))))}),qe=(n(568),function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(H.a)(this,(e=Object(z.a)(t)).call.apply(e,[this].concat(o)))).state={clickedMenu:0},n.selectmenu=function(){return 0==n.state.clickedMenu&&n.props.ongoing_survey_list?r.a.createElement("div",{className:"SurveyOngoing"},r.a.createElement("h1",{id:"ongoingTitle"},"Ongoing Survey"),r.a.createElement("br",null),r.a.createElement(Le,{id:"ongoingTable",content:n.props.ongoing_survey_list,slide:!1})):1==n.state.clickedMenu&&n.props.survey_list?r.a.createElement("div",{className:"SurveyCompleted"},r.a.createElement("h1",{id:"openedTitle"},"Opened Survey"),r.a.createElement("br",null),r.a.createElement(Le,{content:n.props.survey_list,slide:!1})):2==n.state.clickedMenu&&n.props.cart_list?r.a.createElement("div",{className:"Cart"},r.a.createElement("h1",{id:"cartTitle"},"Cart"),r.a.createElement("br",null),r.a.createElement(Le,{content:n.props.cart_list,slide:!0})):null},n}return Object(B.a)(t,e),Object(R.a)(t,[{key:"componentDidUpdate",value:function(e){this.props!=e&&this.forceUpdate()}},{key:"componentDidMount",value:function(){var e=this;this.props.checklogIn().then((function(){e.props.getUserInfo()})).catch((function(){e.props.history.push("/login/")})),this.props.getSurveyOngoing(),this.props.getCart(),this.props.getSurveyAll()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"myPage"},r.a.createElement(he,{style:{backgroundColor:"white","z-index":1},username:this.props.username,point:this.props.point}),r.a.createElement(Ue.a.Pushable,{as:Y.a,style:{paddingTop:100,"z-index":2}},r.a.createElement(Ue.a,{id:"sidebar",as:me.a,icon:"labeled",inverted:!0,visible:!0,vertical:!0},r.a.createElement(me.a.Item,{className:"OngoingSurvey",id:"ongoing",onClick:function(){e.setState({clickedMenu:0})}},"My Ongoing Survey"),r.a.createElement(me.a.Item,{className:"CompletedSurvey",id:"completed",onClick:function(){e.setState({clickedMenu:1})}},"My Completed Survey"),r.a.createElement(me.a.Item,{className:"Cart",id:"cart",onClick:function(){e.setState({clickedMenu:2})}},"Cart")),r.a.createElement(Ue.a.Pusher,{id:"sidebarPusher",style:{minHeight:800}},r.a.createElement(Y.a,{basic:!0},this.selectmenu()))))}}]),t}(a.Component)),Fe=Object(i.b)((function(e){return{cart_list:e.ct.survey_list,survey_list:e.svl.survey_list,ongoing_survey_list:e.svl.ongoing_survey_list,username:e.us.info.username,point:e.us.info.point}}),(function(e){return{checklogIn:function(){return e(F())},getCart:function(){return e((function(e){return p.a.get("/api/mypage/cart/").then((function(t){e({type:"GET_CART",target:t.data})}))}))},getSurveyOngoing:function(){e((function(e){return p.a.get("/api/mypage/surveyOngoing/").then((function(t){return e({type:"GET_MY_ONGOING_SURVEYS",target:t.data}),t}))}))},getUserInfo:function(){return e(W())},getSurveyAll:function(){return e((function(e){return p.a.get("/api/mypage/surveyCompleted/").then((function(t){return e({type:"GET_SURVEY_LIST",target:t.data}),t}))}))}}}))(qe),We=n(186),Ve=(n(569),function(e){function t(){var e,n;Object(T.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Object(H.a)(this,(e=Object(z.a)(t)).call.apply(e,[this].concat(o)))).contextRef=Object(a.createRef)(),n}return Object(B.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){this.props.getSurveyList()}},{key:"componentDidUpdate",value:function(e){e!=this.props&&this.forceUpdate()}},{key:"render",value:function(){var e=this;return r.a.createElement(We.a,{innerRef:this.contextRef},r.a.createElement("div",{className:"SurveyParticipate"},r.a.createElement(he,{context:this.contextRef}),r.a.createElement("table",{celled:!0,id:"ParticipateTable"},r.a.createElement("thead",{id:"TableHeader"},r.a.createElement("tr",null,r.a.createElement("th",null,"Survey Title"),r.a.createElement("th",{id:"dateHeader"},"Upload Date"),r.a.createElement("th",{id:"buttonHeader"},"Participate"))),r.a.createElement("tbody",null,this.props.survey_list.map((function(t){return r.a.createElement("tr",null,r.a.createElement("td",{id:"titleRow"},t.title),r.a.createElement("td",{id:"dateRow"},t.upload_date),r.a.createElement("td",{id:"buttonRow"},r.a.createElement("button",{id:"participateButton",onClick:function(){return e.props.history.push("/responsing/".concat(t.id,"/"))}},"Participate")))}))))))}}]),t}(a.Component)),Qe=Object(i.b)((function(e){return{survey_list:e.svl.ongoing_survey_list}}),(function(e){return{checklogIn:function(){return e(F())},getSurveyList:function(){e((function(e){return p.a.get("/api/participatinglist/").then((function(t){return e({type:"GET_PARTICIPATING_LIST",target:t.data}),t}))}))}}}))(Ve),Ke=n(599),Ze=n(597),Xe=(n(570),Object(N.g)((function(e){return r.a.createElement("div",{className:"MakingOptions"},r.a.createElement("div",{id:"optionNumber"},e.number,":"," "),r.a.createElement(J.a,{className:"OptionInput",placeholder:"Write Options...",onChange:function(t){return e.content(t.target.value,e.number)}})," ",r.a.createElement("br",null))}))),Je=(n(571),function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(z.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",selection_list:[{number:1,content:""}]},n.selectionContentHandler=function(e,t){n.state.selection_list[t-1].content=e,n.props.stateSender(n.state,n.props.number)},n.addSelectionHandler=function(){var e={number:n.state.selection_list.length+1,content:""};n.state.selection_list.push(e),n.props.stateSender(n.state,n.props.number)},n.titleChangeHandler=function(e){n.state.title=e,n.props.stateSender(n.state,n.props.number)},n}return Object(B.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(Y.a,{className:"MakingItem",style:{backgroundColor:"#6C7A89",minHeight:"250px"}},r.a.createElement("div",{id:"ItemTop"},"Q",this.props.number,": \xa0\xa0",r.a.createElement(J.a,{className:"title",id:"title",placeholder:"Question...",onChange:function(t){return e.titleChangeHandler(t.target.value)}}),r.a.createElement(Ye.a,{toggle:!0,className:"questionTypeToggler",onClick:function(){e.props.questionTypeToggler(e.props.number)}}),this.props.question_type),"Selection"==this.props.question_type&&r.a.createElement("div",null,r.a.createElement(Ye.a,{className:"MultipleSelection",label:this.props.multiple_choice?"Multiple Choice":"Single Choice",toggle:!0,onClick:function(){e.props.multipleSelectionToggler(e.props.number)}}),r.a.createElement("br",null),r.a.createElement("div",{className:"Options"},"Options:")),"Selection"==this.props.question_type&&this.state.selection_list.map((function(t){return r.a.createElement(Xe,{className:"MakingOptions",number:t.number,content:e.selectionContentHandler})})),"Selection"==this.props.question_type&&r.a.createElement("button",{className:"addOptionButton",onClick:this.addSelectionHandler},"Add options"))}}]),t}(a.Component)),$e=Object(N.g)(Je);n(572);function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var tt=[{key:"m",text:"Male",value:"M"},{key:"f",text:"Female",value:"F"},{key:"o",text:"Other",value:"O"}],nt=[{key:"a",text:"10",value:{start:10,end:19}},{key:"b",text:"20",value:{start:20,end:29}},{key:"c",text:"30",value:{start:30,end:39}},{key:"d",text:"40",value:{start:40,end:49}},{key:"e",text:"All",value:{start:1,end:100}}],at=function(e){function t(){var e,n;Object(T.a)(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(n=Object(H.a)(this,(e=Object(z.a)(t)).call.apply(e,[this].concat(i)))).contextRef=Object(a.createRef)(),n.state={title:"",content:"",target_gender:"M",target_age:[1,100],gender_check:!0,age_check:!0,response_count:0,due_date:ue()(),open_date:ue()(),item_count:1,item_list:[{number:1,title:"",question_type:"Subjective",multiple_choice:!1,selection:[]}],open_date_focused:!1,due_date_focused:!1,scrollPostion:0},n.questionTypeToggler=function(e){if("Subjective"==n.state.item_list[e-1].question_type){var t=n.state.item_list;t[e-1].question_type="Selection",t[e-1].selection=[{number:1,content:""}],n.setState({item_list:t})}else{var a=n.state.item_list;a[e-1].question_type="Subjective",a[e-1].selection=[],n.setState({item_list:a})}},n.multipleSelectionToggler=function(e){var t=n.state.item_list;0==n.state.item_list[e-1].multiple_choice?(t[e-1].multiple_choice=!0,n.setState({item_list:t})):(t[e-1].multiple_choice=!1,n.setState({item_list:t}))},n.genderCheckToggler=function(){n.setState({gender_check:!n.state.gender_check})},n.ageCheckToggler=function(){n.setState({age_check:!n.state.age_check})},n.submitHandler=function(){var e={title:n.state.title,content:n.state.content,survey_start_date:ue()().format("YYYY/MM/DD"),survey_end_date:n.state.due_date.format("YYYY/MM/DD"),open_date:n.state.open_date.format("YYYY/MM/DD"),item:n.state.item_list,target_age_start:n.state.age_check?1:n.state.target_age[0],target_age_end:n.state.age_check?100:n.state.target_age[1],target_gender:n.state.gender_check?"A":n.state.target_gender,target_respondant_count:n.state.response_count};n.props.onSubmitSurvey(e),n.props.history.push("/main/")},n.addItemHandler=function(){var e={number:n.state.item_list.length+1,title:"",question_type:"Subjective",multiple_choice:!1,selection:[]};n.state.item_list.push(e),n.forceUpdate()},n.dataCallBackHandler=function(e,t){n.state.item_list[t-1].title=e.title,n.state.item_list[t-1].selection=e.selection_list,n.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(n,!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.state))},n.Items=function(){return n.state.item_list.map((function(e){return r.a.createElement($e,{number:e.number,question_type:e.question_type,multiple_choice:e.multiple_choice,stateSender:n.dataCallBackHandler,multipleSelectionToggler:n.multipleSelectionToggler,questionTypeToggler:n.questionTypeToggler})}))},n.listenToScrollEvent=function(){document.addEventListener("scroll",(function(){requestAnimationFrame((function(){n.calculateScrollDistance()}))}))},n.calculateScrollDistance=function(){var e=window.pageYOffset,t=window.innerHeight,a=n.getDocHeight()-t,r=Math.floor(e/a*100);n.setState({scrollPostion:r})},n.getDocHeight=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},n}return Object(B.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.listenToScrollEvent(),this.props.checklogIn().then((function(){e.props.getUserInfo()})).catch((function(){e.props.history.push("/login/")}))}},{key:"render",value:function(){var e=this,t=this.Items();return r.a.createElement(We.a,{className:"MakingPage",innerRef:this.contextRef},r.a.createElement("div",null,r.a.createElement(de,{history:this.props.history,context:this.contextRef,username:this.props.username,point:this.props.point}),r.a.createElement(pe.a,{offset:130,context:this.contextRef},r.a.createElement(Y.a,{border:"none",style:{height:"50px",marginTop:"15px",borderBottom:"none",borberTop:"none"}},r.a.createElement(Ke.a,{style:{marginTop:"0px"},id:"progressBar",color:"teal",value:this.state.scrollPostion<=50?"1":this.state.scrollPostion<99?"2":"3",total:"3",progress:"ratio"}))),r.a.createElement("div",{id:"underTopbar"},r.a.createElement(Y.a,{className:"ItemFirst",id:"item",sytle:{backgroundColor:"#E0E7E9"},backgroundColor:"#E0E7E9"},r.a.createElement("h3",{style:{marginBottom:0}},r.a.createElement("span",{style:{padding:"5px",fontSize:24,"border-radius":5}},"1. Explain your survey!")),r.a.createElement("br",null),r.a.createElement("p",{id:"titleInput",style:{"font-size":"20px",marginBottom:5}},"Title "),r.a.createElement(J.a,{className:"SurveyTitle",placeholder:"Survey Title...",style:{width:"500px"},onChange:function(t){return e.setState({title:t.target.value})}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",{style:{"font-size":"19px",marginBottom:5}},"Content "),r.a.createElement(Ze.a,{className:"SurveyContent",placeholder:"Please explain about Survey",rows:4,onChange:function(t){return e.setState({content:t.target.value})}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",{style:{"font-size":"17px",marginBottom:5}},"Due Date "),r.a.createElement(ye.SingleDatePicker,{borderRadius:5,numberOfMonths:1,onDateChange:function(t){return e.setState({due_date:t})},onFocusChange:function(t){var n=t.focused;return e.setState({due_date_focused:n})},focused:this.state.due_date_focused,date:ue()(this.state.due_date)}),r.a.createElement("p",{style:{"font-size":"17px",marginBottom:5,marginTop:5}},"Open Date "),r.a.createElement(ye.SingleDatePicker,{borderRadius:5,numberOfMonths:1,onDateChange:function(t){return e.setState({open_date:t})},onFocusChange:function(t){var n=t.focused;return e.setState({open_date_focused:n})},focused:this.state.open_date_focused,date:ue()(this.state.open_date)})),r.a.createElement(Y.a,{style:{backgroundColor:"#A3C6C4"}},r.a.createElement("h3",{color:"#354649",style:{marginBottom:0}},r.a.createElement("span",{style:{padding:"5px",fontSize:24,"border-radius":5}},"2. Survey Target Settings!")),r.a.createElement("br",null),r.a.createElement("p",{style:{"font-size":"15px",marginBottom:5,fontWeight:"bold"}},"Gender "),r.a.createElement(U.a.Select,{className:"genderSelect",disabled:this.state.gender_check,value:this.state.target_gender,options:tt,onChange:function(t,n){var a=n.value;e.setState({target_gender:a})},placeholder:"Gender"}),r.a.createElement("div",{id:"Gender"},r.a.createElement(Ye.a,{className:"genderCheck",checked:this.state.gender_check,onClick:this.genderCheckToggler})," ","Won't input gender option"),r.a.createElement("p",{style:{"font-size":"15px",marginBottom:5,marginTop:6,fontWeight:"bold"}},"Age"),r.a.createElement(U.a.Select,{className:"ageSelect",disabled:this.state.age_check,value:{start:this.state.target_age[0],end:this.state.target_age[1]},options:nt,onChange:function(t,n){var a=n.value;e.setState({target_age:[a.start,a.end]})},placeholder:"Age"}),r.a.createElement(Ye.a,{className:"ageCheck",checked:this.state.age_check,onClick:this.ageCheckToggler}),"Won't input age option",r.a.createElement("p",{style:{marginTop:10,marginBottom:5,fontWeight:"bold"}},"Target Response count:"),r.a.createElement(J.a,{className:"targetCount",type:"text",error:""==this.state.response_count||!Number.isInteger(+this.state.response_count)||this.state.response_count<0||this.state.response_count>50,onChange:function(t){return e.setState({response_count:t.target.value})},placeholder:"... How many Responses?"})),r.a.createElement("p",{id:"itemsText"},"3. Items"),r.a.createElement(L.a,{className:"addItemButton",onClick:this.addItemHandler},"Add Question Item"),t,r.a.createElement(L.a,{className:"submitButton",onClick:this.submitHandler},"Submit"))))}}]),t}(a.Component),rt=Object(i.b)((function(e){return{username:e.us.info.username,point:e.us.info.point}}),(function(e){return{checklogIn:function(){return e(F())},onSubmitSurvey:function(t){return e(function(e){return function(t){return p.a.post("/api/make/",e).then((function(e){return t({type:"ADD_ONGOING_SURVEY"}),e}))}}(t))},getUserInfo:function(){return e(W())}}}))(Object(N.g)(at)),ot=n(595),it=(n(574),function(e){function t(){return Object(T.a)(this,t),Object(H.a)(this,Object(z.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(U.a.Field,{id:"OptionRadio"},r.a.createElement(ot.a,{className:"Radio",label:this.props.content,checked:this.props.checked,onClick:function(){return e.props.radioChange(e.props.number-1)}})))}}]),t}(a.Component)),st=Object(N.g)(it),ct=(n(575),function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(z.a)(t)).call.apply(e,[this].concat(r)))).state={check_response:[],text_response:""},n.write=function(e){n.state.text_response=e,n.props.response(n.props.number,n.state.text_response),n.forceUpdate()},n.click=function(e){if(1==n.props.multiple){var t=n.state.check_response;t[e]?t[e]=!1:t[e]=!0,n.state.check_response=t}else{var a=n.props.selection.map((function(){return!1}));a[e]=!0,n.state.check_response=a}n.props.response(n.props.number,n.state.check_response),n.forceUpdate()},n}return Object(B.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.selection.map((function(){return!1}));this.setState({check_response:e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"ResponsingItem"},r.a.createElement(Y.a,{id:"ResponseSegment"},r.a.createElement("div",{id:"Title"},this.props.number,". ",this.props.title),this.props.multiple&&"Selection"==this.props.question_type&&r.a.createElement("div",null,"(You can select more than one.)",this.props.selection.map((function(t,n){return r.a.createElement("div",null,r.a.createElement(Ye.a,{className:"CheckBox",label:t.content,onClick:function(){return e.click(n)}}))}))),!this.props.multiple&&"Selection"==this.props.question_type&&this.props.selection.map((function(t,n){return r.a.createElement("div",null,r.a.createElement(U.a,null,r.a.createElement(st,{number:t.number,content:t.content,checked:e.state.check_response[n],radioChange:e.click})))})),"Subjective"==this.props.question_type&&r.a.createElement("input",{id:"SubjectInput",placeholder:"Answer...",className:"subjectiveInput",onChange:function(t){return e.write(t.target.value)}})))}}]),t}(a.Component)),lt=Object(N.g)(ct),ut=(n(576),function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(z.a)(t)).call.apply(e,[this].concat(r)))).state={survey:n.props.onSurvey,response_list:[]},n.onSubmitHandler=function(){var e=[];n.state.response_list.map((function(t,a){"Subjective"==n.state.survey.item[a].question_type?e.push({number:a+1,content:t}):t.map((function(t,n){1==t&&e.push({number:a+1,content:n+1})}))})),n.props.submitOngoingSurvey(n.props.match.params.id,e),n.props.history.push("/participate/")},n.responseCallback=function(e,t){var a=n.state.response_list;a[e-1]=t,n.setState({response_list:a})},n}return Object(B.a)(t,e),Object(R.a)(t,[{key:"componentDidUpdate",value:function(e){e!=this.props&&this.setState({survey:this.props.onSurvey})}},{key:"componentDidMount",value:function(){var e=this;this.props.checklogIn().then((function(){e.props.getOngoingSurvey(e.props.match.params.id)})).catch((function(){e.props.history.push("/login/")}))}},{key:"render",value:function(){var e=this;return null!=this.state.survey.item?r.a.createElement("div",{className:"ResponsePage"},r.a.createElement(pe.a,null,r.a.createElement(Y.a,{id:"Head"},r.a.createElement("h1",{id:"PageName"},"ResponsingPage"))),r.a.createElement(Y.a,{id:"info"},r.a.createElement("h2",{id:"SurveyTitle"},this.props.onSurvey.title),r.a.createElement("h3",{id:"SurveyContent"},this.props.onSurvey.content),r.a.createElement("h3",{id:"SurveyAuthor"}," ",this.props.onSurvey.author," ")),r.a.createElement("div",{id:"Items"},this.state.survey.item.map((function(t){return r.a.createElement(lt,{number:t.number,title:t.title,question_type:t.question_type,selection:t.selection,multiple:t.multiple_choice,response:e.responseCallback})}))),r.a.createElement("button",{id:"Submit",className:"Submit",onClick:this.onSubmitHandler},"Submit")):null}}]),t}(a.Component)),pt=Object(i.b)((function(e){return{onSurvey:e.sv.ongoing_survey}}),(function(e){return{checklogIn:function(){return e(F())},getOngoingSurvey:function(t){return e(function(e){return function(t){return p.a.get("/api/survey/ongoing/".concat(String(e),"/")).then((function(e){return t({type:"GET_ONGOING_SURVEY",target:e.data}),e}))}}(t))},submitOngoingSurvey:function(t,n){return e(function(e,t){return function(n){return p.a.post("/api/participate/".concat(String(e),"/"),t).then((function(e){return n({type:"PARTICIPATE_SURVEY"}),e}))}}(t,n))}}}))(Object(N.g)(ut));var mt=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(N.d,null,r.a.createElement(N.b,{path:"/login",exact:!0,component:K}),r.a.createElement(N.b,{path:"/signup",exact:!0,component:X}),r.a.createElement(N.b,{path:"/main",exact:!0,component:ce}),r.a.createElement(N.b,{path:"/search",exact:!0,component:we}),r.a.createElement(N.b,{path:"/survey/:id",exact:!0,component:Ge}),r.a.createElement(N.b,{path:"/participate",exact:!0,component:Qe}),r.a.createElement(N.b,{path:"/mypage",exact:!0,component:Fe}),r.a.createElement(N.b,{path:"/making",exact:!0,component:rt}),r.a.createElement(N.b,{path:"/responsing/:id",exact:!0,component:pt}),r.a.createElement(N.a,{exact:!0,from:"/",to:"/login"})))};p.a.defaults.xsrfCookieName="csrftoken",p.a.defaults.xsrfHeaderName="X-CSRFTOKEN";var dt=Object(l.a)();c.a.render(r.a.createElement(i.a,{store:I},r.a.createElement(o.a,{history:dt},r.a.createElement(mt,null))),document.getElementById("root"))}},[[336,1,2]]]);
//# sourceMappingURL=main.cdd45cc4.chunk.js.map